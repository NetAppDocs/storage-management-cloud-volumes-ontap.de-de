---
sidebar: sidebar 
permalink: concept-azure-file-sig-verify.html 
keywords: Azure, image, VHD, file signature verification, encryption, sha256, ONTAP, Cloud Volumes, CLI, 
summary: Erfahren Sie, wie Sie die Signatur einer exportierten VHD-Datei mit dem Image Digest File-Tool von Cloud Volumes ONTAP überprüfen. 
---
= Azure Marketplace-Imagesignaturüberprüfung für Cloud Volumes ONTAP
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Der Azure-Imageüberprüfungsprozess generiert eine Digest-Datei aus der VHD-Datei, indem er am Anfang 1 MB und am Ende 512 Byte entfernt und dann eine Hash-Funktion anwendet.  Um dem Signaturverfahren zu entsprechen, wird _sha256_ zum Hashing verwendet.



== Zusammenfassung des Workflows zur Dateisignaturüberprüfung

Nachfolgend finden Sie eine Übersicht über den Workflow-Prozess zur Dateisignaturüberprüfung.

image::graphic_azure_check_signature.png[grafische azurblaue Check-Signatur]

* Herunterladen des Azure-Images von der https://mysupport.netapp.com/site/["NetApp Support Site"^] und Extrahieren der Digest-Datei (.sig), der Public-Key-Zertifikatdatei (.pem) und der Kettenzertifikatdatei (.pem). Weitere Informationen finden Sie unter link:task-azure-download-digest-file.html["Herunterladen der Azure-Image-Digest-Datei"] für weitere Informationen.
* Überprüfung der Vertrauenskette.
* Extrahieren des öffentlichen Schlüssels (.pub) aus dem öffentlichen Schlüsselzertifikat (.pem).
* Entschlüsseln der Digest-Datei mithilfe des extrahierten öffentlichen Schlüssels.
* Vergleichen Sie das Ergebnis mit einem neu generierten Digest einer temporären Datei, die aus der Bilddatei erstellt wurde, nachdem 1 MB am Anfang und 512 Byte am Ende entfernt wurden.  Dieser Schritt wird mithilfe des OpenSSL-Befehlszeilentools ausgeführt.  Das OpenSSL-CLI-Tool zeigt eine entsprechende Meldung an, wenn die Dateizuordnung erfolgreich war oder fehlgeschlagen ist.
+
[source, cli]
----
openssl dgst -verify <public_key> -keyform <form> <hash_function>
-signature <digest_file> -binary <temporary_file>
----

